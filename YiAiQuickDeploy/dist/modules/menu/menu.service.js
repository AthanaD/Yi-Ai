'use strict';const _0x33ec2c=_0x5beb;function _0x5beb(_0x1028c4,_0x4cea08){const _0x297f9d=_0x297f();return _0x5beb=function(_0x5beb08,_0x306d3b){_0x5beb08=_0x5beb08-0x1a7;let _0x49cda3=_0x297f9d[_0x5beb08];return _0x49cda3;},_0x5beb(_0x1028c4,_0x4cea08);}(function(_0x3184a3,_0x18200e){const _0x30d8b6=_0x5beb,_0x4e4127=_0x3184a3();while(!![]){try{const _0x3a24d5=-parseInt(_0x30d8b6(0x1dd))/0x1+-parseInt(_0x30d8b6(0x1bb))/0x2+-parseInt(_0x30d8b6(0x1d0))/0x3+-parseInt(_0x30d8b6(0x1e4))/0x4+parseInt(_0x30d8b6(0x1aa))/0x5+-parseInt(_0x30d8b6(0x1ea))/0x6*(-parseInt(_0x30d8b6(0x1e3))/0x7)+-parseInt(_0x30d8b6(0x1d1))/0x8*(-parseInt(_0x30d8b6(0x1d2))/0x9);if(_0x3a24d5===_0x18200e)break;else _0x4e4127['push'](_0x4e4127['shift']());}catch(_0xc91260){_0x4e4127['push'](_0x4e4127['shift']());}}}(_0x297f,0x1be00));var __decorate=this&&this[_0x33ec2c(0x1e0)]||function(_0x33c22d,_0x55bfcc,_0xc0adfc,_0x342a37){const _0x3a6652=_0x33ec2c;var _0x224a5d=arguments['length'],_0x31d867=_0x224a5d<0x3?_0x55bfcc:_0x342a37===null?_0x342a37=Object['getOwnPropertyDescriptor'](_0x55bfcc,_0xc0adfc):_0x342a37,_0x4cfcfc;if(typeof Reflect==='object'&&typeof Reflect[_0x3a6652(0x1c7)]==='function')_0x31d867=Reflect[_0x3a6652(0x1c7)](_0x33c22d,_0x55bfcc,_0xc0adfc,_0x342a37);else{for(var _0x3aa764=_0x33c22d['length']-0x1;_0x3aa764>=0x0;_0x3aa764--)if(_0x4cfcfc=_0x33c22d[_0x3aa764])_0x31d867=(_0x224a5d<0x3?_0x4cfcfc(_0x31d867):_0x224a5d>0x3?_0x4cfcfc(_0x55bfcc,_0xc0adfc,_0x31d867):_0x4cfcfc(_0x55bfcc,_0xc0adfc))||_0x31d867;}return _0x224a5d>0x3&&_0x31d867&&Object[_0x3a6652(0x1d9)](_0x55bfcc,_0xc0adfc,_0x31d867),_0x31d867;},__metadata=this&&this[_0x33ec2c(0x1ad)]||function(_0x48b27b,_0x1a7de8){const _0x102cf8=_0x33ec2c;if(typeof Reflect===_0x102cf8(0x1e5)&&typeof Reflect[_0x102cf8(0x1bd)]===_0x102cf8(0x1d6))return Reflect[_0x102cf8(0x1bd)](_0x48b27b,_0x1a7de8);},__param=this&&this[_0x33ec2c(0x1c1)]||function(_0x57a874,_0x55ea72){return function(_0x2cb1b3,_0x2a101c){_0x55ea72(_0x2cb1b3,_0x2a101c,_0x57a874);};};Object[_0x33ec2c(0x1d9)](exports,_0x33ec2c(0x1c0),{'value':!![]}),exports[_0x33ec2c(0x1d4)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x33ec2c(0x1f1)),typeorm_2=require(_0x33ec2c(0x1f0)),menu_entity_1=require(_0x33ec2c(0x1ee));let MenuService=class MenuService{constructor(_0x35fe5a){const _0x35fa6c=_0x33ec2c;this[_0x35fa6c(0x1c8)]=_0x35fe5a;}async[_0x33ec2c(0x1e9)](){await this['initMenu']();}async[_0x33ec2c(0x1ef)](){const _0x10559d=_0x33ec2c,_0x4af386=await this['menuEntity']['count']();if(_0x4af386>0x0)return;const _0x59435a=[{'menuTipText':_0x10559d(0x1b6),'menuIcon':_0x10559d(0x1d3),'menuName':_0x10559d(0x1ce),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x10559d(0x1ba),'menuIcon':_0x10559d(0x1af),'menuName':_0x10559d(0x1df),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x10559d(0x1b3),'menuIcon':'ri:landscape-line','menuName':_0x10559d(0x1bf),'menuPath':_0x10559d(0x1de),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x10559d(0x1e8),'menuIcon':'solar:album-line-duotone','menuName':_0x10559d(0x1b1),'menuPath':_0x10559d(0x1cb),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x10559d(0x1ed),'menuIcon':'fluent:draw-image-24-regular','menuName':_0x10559d(0x1ca),'menuPath':_0x10559d(0x1e1),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x10559d(0x1be),'menuIcon':_0x10559d(0x1a7),'menuName':'Mind','menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x10559d(0x1ac),'menuIcon':'icon-park-outline:shopping','menuName':_0x10559d(0x1b0),'menuPath':_0x10559d(0x1b8),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x10559d(0x1d7),'menuIcon':_0x10559d(0x1dc),'menuName':_0x10559d(0x1cd),'menuPath':_0x10559d(0x1b2),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0xb2b04c=[{'menuTipText':_0x10559d(0x1b6),'menuIcon':_0x10559d(0x1d3),'menuName':_0x10559d(0x1ce),'menuPath':_0x10559d(0x1b5),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x10559d(0x1ba),'menuIcon':_0x10559d(0x1af),'menuName':_0x10559d(0x1df),'menuPath':_0x10559d(0x1c3),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x10559d(0x1b3),'menuIcon':'ri:landscape-line','menuName':'Midjourney','menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x10559d(0x1be),'menuIcon':_0x10559d(0x1a7),'menuName':_0x10559d(0x1cf),'menuPath':_0x10559d(0x1e7),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x10559d(0x1ec),'menuIcon':'ri:account-pin-box-line','menuName':_0x10559d(0x1d5),'menuPath':_0x10559d(0x1cc),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x585922=[..._0x59435a,..._0xb2b04c];await this[_0x10559d(0x1c8)][_0x10559d(0x1eb)](_0x585922);}async['queryMenu'](_0x2a6370){const _0x33451d=_0x33ec2c,{menuPlatform:_0x63616f}=_0x2a6370,_0x575c90={};return _0x63616f&&(_0x575c90[_0x33451d(0x1c6)]=_0x63616f),await this[_0x33451d(0x1c8)][_0x33451d(0x1c5)]({'where':_0x575c90,'order':{'order':_0x33451d(0x1e6)}});}async[_0x33ec2c(0x1db)](_0x22b19c){const _0x297737=_0x33ec2c,{menuPlatform:_0x6df9b1}=_0x22b19c,_0x1266a3={'isShow':!![]};return _0x6df9b1&&(_0x1266a3[_0x297737(0x1c6)]=_0x6df9b1),await this[_0x297737(0x1c8)][_0x297737(0x1c5)]({'where':_0x1266a3,'order':{'order':_0x297737(0x1e6)}});}async['visibleMenu'](_0x188137){const _0x4951c1=_0x33ec2c,{id:_0x1669f6}=_0x188137;if(!_0x1669f6)return;const _0x13ff16=await this[_0x4951c1(0x1c8)]['findOne']({'where':{'id':_0x1669f6}});if(!_0x13ff16)return;const {isShow:_0x16d16b}=_0x13ff16,_0x26b87a=await this[_0x4951c1(0x1c8)]['update']({'id':_0x1669f6},{'isShow':!_0x16d16b});return _0x26b87a[_0x4951c1(0x1c9)]>0x0;}async[_0x33ec2c(0x1a9)](_0x562c24){const _0x1a4f61=_0x33ec2c,{id:_0x19315a}=_0x562c24;_0x562c24['isSystem']?_0x562c24['menuPath']='':_0x562c24['menuIframeUrl']='';delete _0x562c24[_0x1a4f61(0x1da)];try{if(_0x19315a){const _0x4ad04b=await this['menuEntity']['update']({'id':_0x19315a},_0x562c24);return _0x4ad04b['affected']>0x0;}else{const _0x2e9739=await this['menuEntity'][_0x1a4f61(0x1eb)](_0x562c24);return _0x2e9739;}}catch(_0x7ac0cf){throw new common_1[(_0x1a4f61(0x1c4))](_0x1a4f61(0x1b4),common_1['HttpStatus'][_0x1a4f61(0x1c2)]);}}async['delMenu'](_0x5747f5){const _0xa8cd06=_0x33ec2c,{id:_0xd74ffd}=_0x5747f5;if(!_0xd74ffd)throw new common_1['HttpException']('缺失必要参数!',common_1[_0xa8cd06(0x1bc)]['BAD_REQUEST']);const _0x2ea595=await this[_0xa8cd06(0x1c8)][_0xa8cd06(0x1b9)]({'id':_0xd74ffd});return _0x2ea595;}async['updateIcon'](_0xc4f970){const _0x42e0b9=_0x33ec2c,{id:_0x3fc8f6,menuIcon:_0x3c5665,menuTipText:_0x597e37,order:_0x515ea7}=_0xc4f970;if(!_0x3fc8f6||!_0x3c5665||!_0x597e37||!_0x515ea7)throw new common_1[(_0x42e0b9(0x1c4))]('缺失必要参数!',common_1[_0x42e0b9(0x1bc)][_0x42e0b9(0x1c2)]);const _0x3f43ce=await this[_0x42e0b9(0x1c8)][_0x42e0b9(0x1ab)]({'id':_0x3fc8f6},{'menuIcon':_0x3c5665,'menuTipText':_0x597e37,'order':_0x515ea7});return _0x3f43ce[_0x42e0b9(0x1c9)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x33ec2c(0x1a8)])(),__param(0x0,(0x0,typeorm_1[_0x33ec2c(0x1d8)])(menu_entity_1[_0x33ec2c(0x1e2)])),__metadata(_0x33ec2c(0x1b7),[typeorm_2[_0x33ec2c(0x1ae)]])],MenuService),exports[_0x33ec2c(0x1d4)]=MenuService;function _0x297f(){const _0x120f52=['/user-center','Share','Chat','Mind','27543soZrrb','8pSwSwC','2399094NjxETO','eos-icons:typing','MenuService','UserCenter','function','推广计划','InjectRepository','defineProperty','isSystem','menuListFront','uiw:share','155390WjxUcZ','/midjourney','AppStore','__decorate','/draw','MenuEntity','287gtKHJl','555348IGVvAd','object','ASC','/mind','绘画广场','onModuleInit','32022WdKedv','save','个人中心','基础绘画','./menu.entity','initMenu','typeorm','@nestjs/typeorm','icon-park-outline:mindmap-map','Injectable','setMenu','327000cpplvj','update','会员中心','__metadata','Repository','ant-design:appstore-outlined','Pay','Market','/share','专业绘画','操作菜单失败!','/chat','对话聊天','design:paramtypes','/pay','delete','应用广场','266398AOQDxg','HttpStatus','metadata','思维导图','Midjourney','__esModule','__param','BAD_REQUEST','/app-store','HttpException','find','menuPlatform','decorate','menuEntity','affected','Draw','/market'];_0x297f=function(){return _0x120f52;};return _0x297f();}