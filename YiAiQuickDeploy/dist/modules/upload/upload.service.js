'use strict';const _0x111317=_0x24de;(function(_0x27cdd3,_0x35183a){const _0x6ed81=_0x24de,_0x97bcfc=_0x27cdd3();while(!![]){try{const _0x16efea=-parseInt(_0x6ed81(0x1d6))/0x1*(parseInt(_0x6ed81(0x1dd))/0x2)+-parseInt(_0x6ed81(0x201))/0x3+parseInt(_0x6ed81(0x1ac))/0x4*(-parseInt(_0x6ed81(0x1fd))/0x5)+-parseInt(_0x6ed81(0x191))/0x6+parseInt(_0x6ed81(0x199))/0x7+parseInt(_0x6ed81(0x1ca))/0x8*(parseInt(_0x6ed81(0x1a3))/0x9)+-parseInt(_0x6ed81(0x1e0))/0xa*(-parseInt(_0x6ed81(0x1dc))/0xb);if(_0x16efea===_0x35183a)break;else _0x97bcfc['push'](_0x97bcfc['shift']());}catch(_0x5ee5a9){_0x97bcfc['push'](_0x97bcfc['shift']());}}}(_0x3481,0x3c1d5));function _0x24de(_0xbc96a8,_0x2ed95c){const _0x34817=_0x3481();return _0x24de=function(_0x24deda,_0x4c15f0){_0x24deda=_0x24deda-0x190;let _0x11d9a1=_0x34817[_0x24deda];return _0x11d9a1;},_0x24de(_0xbc96a8,_0x2ed95c);}function _0x3481(){const _0x35f6de=['Location','当前已开启全球加速----------------->','GlobalConfigService','createRandomUid','data','uploadFileByAliOss','UploadService','mjtest.png','globalConfigService','../globalConfig/globalConfig.service','TODO->error:\x20\x20','1322312VIwOMN','aliOssAccessKeyId','log','__metadata','cosSecretId','split','env','cheveretoKey','HttpException','metadata','message','toString','70306BOpZNl','上传图片失败[ALI][url]','ali','/mj/replaceUpload','tencentCosStatus','defineProperty','165jeVYDE','14eyzVIg','ali\x20开始上传','Logger','802460KNFIFS','mjProxy','chevereto','function','cosRegion','catch','image','http://172.247.48.137:8000','aliOssStatus',',\x20Chevereto:\x20','uploadFileByTencentCos','form-data',',\x20类型:\x20','https://','BAD_REQUEST','uploadFileByAliOssFromUrl','上传图片失败[Chevereto]','cheveretoUploadPath','error:\x20','tencentCosAcceleratedDomain','replace','mjdev','put','aliOssRegion','uploadFileByChevereto','stream','append','使用腾讯云COS上传','getConfigs','2010705KvvCPk','cheveretoStatus','__esModule','source','341097VKXPso','__decorate','上传图片失败[ten][url]','上传失败:\x20','mjProxyUrl','1011984WKTJsB','putObject','上传图片失败[Chevereto|buffer]\x20-->\x20','key','png','https://cdn.discordapp.com/attachments/1097409128491651135/1169910551275638855/snine_60b5c001b_A_young_girl_smiles_brightly_in_the_pure_blue_f_8a41fe5f-5101-4c1e-b948-a748a0583577.png?ex=65571f1b&is=6544aa1b&hm=b82f2d88224eb7942e24c63a8e519c7693de12a2b96daa0f327dfb8f691b1480&','length','cos-nodejs-sdk-v5','377272TLNMDE','HttpStatus','../../common/utils','removeSpecialCharacters','post','axios','使用阿里云OSS上传','decorate','STANDARD','tencentCos','9tpUwUQ','getUploadConfig','object','ali-oss','stream-to-buffer','default','cos\x20->\x20err:\x20','get','then','4cZSrut','上传图片失败[Chevereto][url]','@nestjs/common','res:\x20','上传图片失败[ten]','请先前往后台配置上传图片的方式','https://$2','cosBucket','cosSecretKey','uploadFileByCheveretoFromUrl','endsWith','tencent','Injectable','stringify','getBufferFromUrl','debug','error','slice','design:paramtypes'];_0x3481=function(){return _0x35f6de;};return _0x3481();}var __decorate=this&&this[_0x111317(0x202)]||function(_0x38f9aa,_0x49578f,_0x8226a7,_0x3920cb){const _0x3d8c49=_0x111317;var _0x68e623=arguments[_0x3d8c49(0x197)],_0x220f13=_0x68e623<0x3?_0x49578f:_0x3920cb===null?_0x3920cb=Object['getOwnPropertyDescriptor'](_0x49578f,_0x8226a7):_0x3920cb,_0x3696d1;if(typeof Reflect===_0x3d8c49(0x1a5)&&typeof Reflect[_0x3d8c49(0x1a0)]==='function')_0x220f13=Reflect[_0x3d8c49(0x1a0)](_0x38f9aa,_0x49578f,_0x8226a7,_0x3920cb);else{for(var _0xf4e93a=_0x38f9aa[_0x3d8c49(0x197)]-0x1;_0xf4e93a>=0x0;_0xf4e93a--)if(_0x3696d1=_0x38f9aa[_0xf4e93a])_0x220f13=(_0x68e623<0x3?_0x3696d1(_0x220f13):_0x68e623>0x3?_0x3696d1(_0x49578f,_0x8226a7,_0x220f13):_0x3696d1(_0x49578f,_0x8226a7))||_0x220f13;}return _0x68e623>0x3&&_0x220f13&&Object[_0x3d8c49(0x1db)](_0x49578f,_0x8226a7,_0x220f13),_0x220f13;},__metadata=this&&this[_0x111317(0x1cd)]||function(_0xe6cb3f,_0x1e77bd){const _0x2bd9de=_0x111317;if(typeof Reflect===_0x2bd9de(0x1a5)&&typeof Reflect[_0x2bd9de(0x1d3)]===_0x2bd9de(0x1e3))return Reflect[_0x2bd9de(0x1d3)](_0xe6cb3f,_0x1e77bd);};Object[_0x111317(0x1db)](exports,_0x111317(0x1ff),{'value':!![]}),exports[_0x111317(0x1c5)]=void 0x0;const common_1=require(_0x111317(0x1ae)),TENCENTCOS=require(_0x111317(0x198)),ALIOSS=require(_0x111317(0x1a6)),axios_1=require(_0x111317(0x19e)),streamToBuffer=require(_0x111317(0x1a7)),utils_1=require(_0x111317(0x19b)),globalConfig_service_1=require(_0x111317(0x1c8)),FormData=require(_0x111317(0x1eb));let UploadService=class UploadService{constructor(_0xf5346e){const _0x3b5a24=_0x111317;this[_0x3b5a24(0x1c7)]=_0xf5346e;}['onModuleInit'](){}async['uploadFile'](_0x34cdbe){const _0x2280ed=_0x111317,{filename:_0x3a2fcb,originalname:_0x5ed6bf,buffer:_0x59a4e3,dir:dir='ai',mimetype:_0x1904ab}=_0x34cdbe,_0x280446=_0x1904ab?_0x1904ab[_0x2280ed(0x1cf)]('/')[0x1]:'',_0x2e379f=_0x5ed6bf||_0x3a2fcb;common_1[_0x2280ed(0x1df)][_0x2280ed(0x1bb)]('准备上传文件:\x20'+_0x2e379f+_0x2280ed(0x1ec)+_0x280446,_0x2280ed(0x1c5));const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x2280ed(0x1c7)]['getConfigs']([_0x2280ed(0x1da),_0x2280ed(0x1e8),_0x2280ed(0x1fe)]);common_1[_0x2280ed(0x1df)]['debug']('上传配置状态\x20-\x20腾讯云:\x20'+tencentCosStatus+',\x20阿里云:\x20'+aliOssStatus+_0x2280ed(0x1e9)+cheveretoStatus,_0x2280ed(0x1c5));if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x2280ed(0x1d2))]('请先前往后台配置上传图片的方式',common_1[_0x2280ed(0x19a)][_0x2280ed(0x1ee)]);try{if(Number(tencentCosStatus))return common_1[_0x2280ed(0x1df)][_0x2280ed(0x1bb)](_0x2280ed(0x1fb),_0x2280ed(0x1c5)),await this[_0x2280ed(0x1ea)]({'filename':_0x2e379f,'buffer':_0x59a4e3,'dir':dir,'fileTyle':_0x280446});if(Number(aliOssStatus))return common_1['Logger'][_0x2280ed(0x1bb)](_0x2280ed(0x19f),'UploadService'),await this[_0x2280ed(0x1c4)]({'filename':_0x2e379f,'buffer':_0x59a4e3,'dir':dir,'fileTyle':_0x280446});if(Number(cheveretoStatus)){common_1['Logger']['debug']('使用Chevereto上传',_0x2280ed(0x1c5));const {filename:_0x4e77a3,buffer:_0x5dd3ad,dir:_0x7b79e7}=_0x34cdbe;return await this['uploadFileByChevereto']({'filename':_0x4e77a3,'buffer':_0x5dd3ad[_0x2280ed(0x1d5)]('base64'),'dir':_0x7b79e7,'fileTyle':_0x280446});}}catch(_0x2d4219){common_1[_0x2280ed(0x1df)][_0x2280ed(0x1bc)](_0x2280ed(0x204)+_0x2d4219['message'],_0x2280ed(0x1c5));throw _0x2d4219;}}async['getUploadType'](){const _0x36c01e=_0x111317,{tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x36c01e(0x1c7)][_0x36c01e(0x1fc)]([_0x36c01e(0x1da),_0x36c01e(0x1e8),_0x36c01e(0x1fe)]);if(Number(tencentCosStatus))return'tencent';if(Number(aliOssStatus))return _0x36c01e(0x1d8);if(Number(cheveretoStatus))return'chevereto';}async['uploadFileFromUrl']({filename:_0x16ecad,url:_0x46b8ab,dir:dir='mj'}){const _0x1a2da5=_0x111317;dir=process[_0x1a2da5(0x1d0)]['ISDEV']?_0x1a2da5(0x1f5):dir;const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this['globalConfigService'][_0x1a2da5(0x1fc)]([_0x1a2da5(0x1da),_0x1a2da5(0x1e8),_0x1a2da5(0x1fe)]);if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1['HttpException'](_0x1a2da5(0x1b1),common_1[_0x1a2da5(0x19a)][_0x1a2da5(0x1ee)]);if(Number(tencentCosStatus))return this['uploadFileByTencentCosFromUrl']({'filename':_0x16ecad,'url':_0x46b8ab,'dir':dir});if(Number(aliOssStatus)){const _0x4bb881=await this[_0x1a2da5(0x1ef)]({'filename':_0x16ecad,'url':_0x46b8ab,'dir':dir});return _0x4bb881;}if(Number(cheveretoStatus))return await this[_0x1a2da5(0x1b5)]({'filename':_0x16ecad,'url':_0x46b8ab,'dir':dir});}async[_0x111317(0x1ea)]({filename:_0x301b6b,buffer:_0x1ebec6,dir:_0x1ce732,fileTyle:_0x1b3b12}){const _0x361989=_0x111317,{Bucket:_0x40bf38,Region:_0x365b44,SecretId:_0x830bfd,SecretKey:_0x4d543a}=await this[_0x361989(0x1a4)](_0x361989(0x1b7));this[_0x361989(0x1a2)]=new TENCENTCOS({'SecretId':_0x830bfd,'SecretKey':_0x4d543a,'FileParallelLimit':0xa});try{return new Promise(async(_0x9bae83,_0x47fb21)=>{const _0x22e18f=_0x361989,_0x3c559a=_0x1b3b12||_0x22e18f(0x195);this['tencentCos'][_0x22e18f(0x192)]({'Bucket':(0x0,utils_1[_0x22e18f(0x19c)])(_0x40bf38),'Region':(0x0,utils_1['removeSpecialCharacters'])(_0x365b44),'Key':_0x1ce732+'/'+(_0x301b6b||(0x0,utils_1[_0x22e18f(0x1c2)])()+'.'+_0x1b3b12),'StorageClass':_0x22e18f(0x1a1),'Body':_0x1ebec6},async(_0x1078a8,_0x3267ff)=>{const _0x1f65ad=_0x22e18f;if(_0x1078a8)return console[_0x1f65ad(0x1cc)](_0x1f65ad(0x1a9),_0x1078a8),_0x47fb21(_0x1078a8);let _0x53ba1d=_0x3267ff[_0x1f65ad(0x1bf)][_0x1f65ad(0x1f4)](/^(http:\/\/|https:\/\/|\/\/|)(.*)/,_0x1f65ad(0x1b2));const {acceleratedDomain:_0x56bf13}=await this[_0x1f65ad(0x1a4)](_0x1f65ad(0x1b7));return _0x56bf13&&(_0x53ba1d=_0x53ba1d[_0x1f65ad(0x1f4)](/^(https:\/\/[^/]+)(\/.*)$/,_0x1f65ad(0x1ed)+_0x56bf13+'$2'),console['log'](_0x1f65ad(0x1c0),_0x53ba1d)),_0x9bae83(_0x53ba1d);});});}catch(_0x3be2fa){console['log'](_0x361989(0x1f2),_0x3be2fa);throw new common_1[(_0x361989(0x1d2))](_0x361989(0x1b0),common_1[_0x361989(0x19a)][_0x361989(0x1ee)]);}}async['uploadFileByTencentCosFromUrl']({filename:_0x519166,url:_0x54a4b8,dir:_0x4560b1}){const _0x42bb71=_0x111317,{Bucket:_0x213977,Region:_0xed3894,SecretId:_0x2812be,SecretKey:_0x154bbc}=await this[_0x42bb71(0x1a4)](_0x42bb71(0x1b7));this[_0x42bb71(0x1a2)]=new TENCENTCOS({'SecretId':_0x2812be,'SecretKey':_0x154bbc,'FileParallelLimit':0xa});try{const _0x159dfe=await this[_0x42bb71(0x1c7)][_0x42bb71(0x1fc)]([_0x42bb71(0x1e1)])||0x0,_0x9da658=await this[_0x42bb71(0x1ba)](_0x54a4b8);return await this[_0x42bb71(0x1ea)]({'filename':_0x519166,'buffer':_0x9da658,'dir':_0x4560b1,'fileTyle':''});}catch(_0x1597b8){console['log'](_0x42bb71(0x1c9),_0x1597b8);throw new common_1[(_0x42bb71(0x1d2))](_0x42bb71(0x203),common_1['HttpStatus'][_0x42bb71(0x1ee)]);}}async['uploadFileByAliOss']({filename:_0x365b01,buffer:_0x35a3cd,dir:_0x2c490f,fileTyle:fileTyle='png'}){const _0x4156cb=_0x111317,{region:_0x31d5f1,bucket:_0x390995,accessKeyId:_0x509015,accessKeySecret:_0x458e9d}=await this['getUploadConfig']('ali'),_0x16d230=new ALIOSS({'region':(0x0,utils_1[_0x4156cb(0x19c)])(_0x31d5f1),'accessKeyId':_0x509015,'accessKeySecret':_0x458e9d,'bucket':(0x0,utils_1[_0x4156cb(0x19c)])(_0x390995)});try{return console[_0x4156cb(0x1cc)](_0x4156cb(0x1de)),new Promise((_0x145492,_0x2041d3)=>{const _0x4de6f4=_0x4156cb;_0x16d230[_0x4de6f4(0x1f6)](_0x2c490f+'/'+(_0x365b01||(0x0,utils_1[_0x4de6f4(0x1c2)])()+'.'+fileTyle),_0x35a3cd)[_0x4de6f4(0x1ab)](_0xf2e0b8=>{_0x145492(_0xf2e0b8['url']);})[_0x4de6f4(0x1e5)](_0x5eb39d=>{_0x2041d3(_0x5eb39d);});});}catch(_0x2760fd){throw new common_1[(_0x4156cb(0x1d2))]('上传图片失败[ali]',common_1[_0x4156cb(0x19a)][_0x4156cb(0x1ee)]);}}async[_0x111317(0x1ef)]({filename:_0x525f66,url:_0x2a945f,dir:_0x534e91}){const _0x21f96c=_0x111317,{region:_0x12bff0,bucket:_0x50d616,accessKeyId:_0x3082ec,accessKeySecret:_0x35998e}=await this['getUploadConfig'](_0x21f96c(0x1d8)),_0x2a8320=new ALIOSS({'region':_0x12bff0,'accessKeyId':_0x3082ec,'accessKeySecret':_0x35998e,'bucket':_0x50d616});try{const _0x4f1217=await this['globalConfigService'][_0x21f96c(0x1fc)]([_0x21f96c(0x1e1)])||0x0;if(Number(_0x4f1217)===0x1){const _0x2813b6={'url':_0x2a945f,'cosParams':{'region':_0x12bff0,'bucket':_0x50d616,'accessKeyId':_0x3082ec,'accessKeySecret':_0x35998e},'cosType':'aliyun'},_0x12815b=await this[_0x21f96c(0x1c7)][_0x21f96c(0x1fc)]([_0x21f96c(0x190)])||_0x21f96c(0x1e7),_0x24cf13=await axios_1[_0x21f96c(0x1a8)][_0x21f96c(0x19d)](_0x12815b+'/mj/replaceUpload',_0x2813b6);if(!(_0x24cf13===null||_0x24cf13===void 0x0?void 0x0:_0x24cf13['data']))throw new common_1[(_0x21f96c(0x1d2))](_0x21f96c(0x1d7),common_1[_0x21f96c(0x19a)][_0x21f96c(0x1ee)]);return _0x24cf13[_0x21f96c(0x1c3)];}else{const _0x1884b1=await this['getBufferFromUrl'](_0x2a945f);return await this['uploadFileByAliOss']({'filename':_0x525f66,'buffer':_0x1884b1,'dir':_0x534e91});}}catch(_0x3ae808){throw new common_1[(_0x21f96c(0x1d2))]('上传图片失败[ALI][url]',common_1[_0x21f96c(0x19a)][_0x21f96c(0x1ee)]);}}async[_0x111317(0x1f8)]({filename:filename='',buffer:_0x3f93d7,dir:dir='ai',fileTyle:fileTyle=_0x111317(0x195)}){const _0x1cf0db=_0x111317;var _0x485528;const {key:_0x2bc18c,uploadPath:_0x19bf0e}=await this[_0x1cf0db(0x1a4)](_0x1cf0db(0x1e2));let _0xa603f6=_0x19bf0e[_0x1cf0db(0x1b6)]('/')?_0x19bf0e[_0x1cf0db(0x1bd)](0x0,-0x1):_0x19bf0e;const _0x25111e=new FormData();_0x25111e[_0x1cf0db(0x1fa)](_0x1cf0db(0x200),_0x3f93d7),_0x25111e[_0x1cf0db(0x1fa)](_0x1cf0db(0x194),_0x2bc18c);try{const _0x4b7015=await axios_1['default'][_0x1cf0db(0x19d)](_0xa603f6,_0x25111e,{'headers':{'X-API-Key':_0x2bc18c}});if((_0x4b7015===null||_0x4b7015===void 0x0?void 0x0:_0x4b7015['status'])===0xc8)return _0x4b7015[_0x1cf0db(0x1c3)][_0x1cf0db(0x1e6)]['url'];else console[_0x1cf0db(0x1cc)]('Chevereto\x20--->\x20res',_0x4b7015===null||_0x4b7015===void 0x0?void 0x0:_0x4b7015[_0x1cf0db(0x1c3)]['code'],_0x4b7015===null||_0x4b7015===void 0x0?void 0x0:_0x4b7015[_0x1cf0db(0x1c3)][_0x1cf0db(0x1bc)][_0x1cf0db(0x1d4)]),common_1[_0x1cf0db(0x1df)][_0x1cf0db(0x1bc)](_0x1cf0db(0x1f0),JSON[_0x1cf0db(0x1b9)](_0x4b7015[_0x1cf0db(0x1c3)]));}catch(_0x27a774){console[_0x1cf0db(0x1cc)](_0x1cf0db(0x1f2),_0x27a774);throw new common_1[(_0x1cf0db(0x1d2))](_0x1cf0db(0x193)+((_0x485528=_0x27a774['response'])===null||_0x485528===void 0x0?void 0x0:_0x485528[_0x1cf0db(0x1c3)][_0x1cf0db(0x1bc)]['message']),common_1[_0x1cf0db(0x19a)]['BAD_REQUEST']);}}async['uploadFileByCheveretoFromUrl']({filename:_0x74feae,url:_0x5933e9,dir:_0x5bd7a9}){const _0x32b253=_0x111317;try{const _0x264144=await this['globalConfigService']['getConfigs']([_0x32b253(0x1e1)])||0x0;if(Number(_0x264144)===0x1){const {key:_0x4e3bb1,uploadPath:_0x5e8557}=await this[_0x32b253(0x1a4)](_0x32b253(0x1e2));let _0xb1c00b=_0x5e8557[_0x32b253(0x1b6)]('/')?_0x5e8557['slice'](0x0,-0x1):_0x5e8557;const _0xf8377e={'cosType':_0x32b253(0x1e2),'url':_0x5933e9,'cosParams':{'key':_0x4e3bb1,'uploadPath':_0xb1c00b}},_0x4f138c=await this[_0x32b253(0x1c7)]['getConfigs']([_0x32b253(0x190)])||_0x32b253(0x1e7),_0x42714a=await axios_1[_0x32b253(0x1a8)][_0x32b253(0x19d)](_0x4f138c+_0x32b253(0x1d9),_0xf8377e);if(!_0x42714a[_0x32b253(0x1c3)])throw new common_1[(_0x32b253(0x1d2))](_0x32b253(0x1ad),common_1[_0x32b253(0x19a)][_0x32b253(0x1ee)]);return _0x42714a[_0x32b253(0x1c3)];}else{const _0x4820f7=await this[_0x32b253(0x1ba)](_0x5933e9);return await this[_0x32b253(0x1f8)]({'filename':_0x74feae,'buffer':_0x4820f7,'dir':_0x5bd7a9});}}catch(_0x590320){console['log'](_0x32b253(0x1f2),_0x590320);throw new common_1[(_0x32b253(0x1d2))](_0x590320['response'],common_1['HttpStatus'][_0x32b253(0x1ee)]);}}async[_0x111317(0x1a4)](_0x23e5a5){const _0x4657dc=_0x111317;if(_0x23e5a5==='ali'){const {aliOssRegion:_0x17d191,aliOssBucket:_0x40bc77,aliOssAccessKeyId:_0x2b9ecb,aliOssAccessKeySecret:_0x39fcc2}=await this[_0x4657dc(0x1c7)][_0x4657dc(0x1fc)]([_0x4657dc(0x1f7),'aliOssBucket',_0x4657dc(0x1cb),'aliOssAccessKeySecret']);return{'region':_0x17d191,'bucket':_0x40bc77,'accessKeyId':_0x2b9ecb,'accessKeySecret':_0x39fcc2};}if(_0x23e5a5===_0x4657dc(0x1b7)){const {cosBucket:_0x2beaf0,cosRegion:_0x5a930b,cosSecretId:_0x2febb3,cosSecretKey:_0x7b7f9b,tencentCosAcceleratedDomain:_0x1ceaff}=await this[_0x4657dc(0x1c7)]['getConfigs']([_0x4657dc(0x1b3),_0x4657dc(0x1e4),_0x4657dc(0x1ce),_0x4657dc(0x1b4),_0x4657dc(0x1f3)]);return{'Bucket':_0x2beaf0,'Region':_0x5a930b,'SecretId':_0x2febb3,'SecretKey':_0x7b7f9b,'acceleratedDomain':_0x1ceaff};}if(_0x23e5a5===_0x4657dc(0x1e2)){const {cheveretoKey:_0x9b203c,cheveretoUploadPath:_0x400b3e}=await this[_0x4657dc(0x1c7)][_0x4657dc(0x1fc)]([_0x4657dc(0x1d1),_0x4657dc(0x1f1)]);return{'key':_0x9b203c,'uploadPath':_0x400b3e};}}async['test'](){const _0x5deab7=_0x111317,_0x2e9e85={'filename':_0x5deab7(0x1c6),'dir':'mj','url':_0x5deab7(0x196)},_0x1ba9f8=await this['uploadFileFromUrl'](_0x2e9e85);return console['log'](_0x5deab7(0x1af),_0x1ba9f8),_0x1ba9f8;}async[_0x111317(0x1ba)](_0x54e955){const _0x4d5836=_0x111317,_0x3c10d=await this['globalConfigService'][_0x4d5836(0x1fc)]([_0x4d5836(0x1e1)])||0x0,_0xd6f9c2=await axios_1['default'][_0x4d5836(0x1aa)](_0x54e955,{'responseType':_0x4d5836(0x1f9)});return new Promise((_0x18831d,_0x4b50b2)=>{const _0x3455da=_0x4d5836;streamToBuffer(_0xd6f9c2[_0x3455da(0x1c3)],(_0x335947,_0x1a47ca)=>{const _0xf441dd=_0x3455da;if(_0x335947)throw new common_1[(_0xf441dd(0x1d2))]('获取图片资源失败、请重新试试吧！',common_1[_0xf441dd(0x19a)][_0xf441dd(0x1ee)]);else _0x18831d(_0x1a47ca);});});}};UploadService=__decorate([(0x0,common_1[_0x111317(0x1b8)])(),__metadata(_0x111317(0x1be),[globalConfig_service_1[_0x111317(0x1c1)]])],UploadService),exports[_0x111317(0x1c5)]=UploadService;