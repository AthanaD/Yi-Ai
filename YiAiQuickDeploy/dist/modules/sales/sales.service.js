'use strict';const _0x40a923=_0xf813;(function(_0x550b43,_0x461bfe){const _0x4de02f=_0xf813,_0x3b41ba=_0x550b43();while(!![]){try{const _0x3c8ff2=parseInt(_0x4de02f(0x1c2))/0x1*(parseInt(_0x4de02f(0x1b8))/0x2)+parseInt(_0x4de02f(0x1de))/0x3+-parseInt(_0x4de02f(0x1ba))/0x4+parseInt(_0x4de02f(0x1e2))/0x5*(-parseInt(_0x4de02f(0x1aa))/0x6)+-parseInt(_0x4de02f(0x1a5))/0x7*(parseInt(_0x4de02f(0x1d1))/0x8)+parseInt(_0x4de02f(0x1eb))/0x9+parseInt(_0x4de02f(0x1f9))/0xa*(parseInt(_0x4de02f(0x1e1))/0xb);if(_0x3c8ff2===_0x461bfe)break;else _0x3b41ba['push'](_0x3b41ba['shift']());}catch(_0x4645db){_0x3b41ba['push'](_0x3b41ba['shift']());}}}(_0x36a4,0xd3eef));var __decorate=this&&this[_0x40a923(0x1b1)]||function(_0x1a3534,_0xec5dcc,_0x300e9b,_0x4fcca7){const _0x2f2a2b=_0x40a923;var _0x57af85=arguments['length'],_0x217a0a=_0x57af85<0x3?_0xec5dcc:_0x4fcca7===null?_0x4fcca7=Object[_0x2f2a2b(0x1d9)](_0xec5dcc,_0x300e9b):_0x4fcca7,_0x36c4e9;if(typeof Reflect==='object'&&typeof Reflect[_0x2f2a2b(0x1c9)]===_0x2f2a2b(0x201))_0x217a0a=Reflect['decorate'](_0x1a3534,_0xec5dcc,_0x300e9b,_0x4fcca7);else{for(var _0x4fd08f=_0x1a3534[_0x2f2a2b(0x1e4)]-0x1;_0x4fd08f>=0x0;_0x4fd08f--)if(_0x36c4e9=_0x1a3534[_0x4fd08f])_0x217a0a=(_0x57af85<0x3?_0x36c4e9(_0x217a0a):_0x57af85>0x3?_0x36c4e9(_0xec5dcc,_0x300e9b,_0x217a0a):_0x36c4e9(_0xec5dcc,_0x300e9b))||_0x217a0a;}return _0x57af85>0x3&&_0x217a0a&&Object[_0x2f2a2b(0x1f2)](_0xec5dcc,_0x300e9b,_0x217a0a),_0x217a0a;},__metadata=this&&this[_0x40a923(0x1bd)]||function(_0x29b806,_0x4df7e7){const _0x16f135=_0x40a923;if(typeof Reflect==='object'&&typeof Reflect[_0x16f135(0x1d7)]==='function')return Reflect[_0x16f135(0x1d7)](_0x29b806,_0x4df7e7);},__param=this&&this['__param']||function(_0x1b53d5,_0x34464e){return function(_0x27ca27,_0x3241c3){_0x34464e(_0x27ca27,_0x3241c3,_0x1b53d5);};};Object[_0x40a923(0x1f2)](exports,_0x40a923(0x1b2),{'value':!![]}),exports['SalesService']=void 0x0;function _0x36a4(){const _0x3ac306=['32450otMdxS','drawMoneyOrder','3936784BRBKfn','auditUserId','count','__metadata','salesUserList','inviterUsername','Repository','saveCommissionAmount','23HvTNxS','auditOrder','用户不存在','SalesRecordsEntity','creaetUserBaseSalesInfo','avatar','super','decorate','hideString','decimal.js','Injectable','map','totalAmount,\x20distributionBalance:\x20','plus','HttpStatus','8Qtyfjc','orderStatus','find','formatCreateOrUpdateDate','salesAllowDrawMoney','inviteRecords','metadata','forEach','getOwnPropertyDescriptor','createOrder','createSalesRecords','getMineAccount','inviteeUsername','2604351HroUhX','default','UserEntity','825803qfARib','1350taUEWq','findAndCount','length','HttpException','@nestjs/typeorm','username','inviteeEmail','salesRecordsEntity','inviterEmail','7436043evTgQR','salesOutletName','userEntity','InjectRepository','BAD_REQUEST','save','xxxxxxx','defineProperty','salesBaseRatio','userInfo','typeorm','globalConfigService','SalesService','DESC','190iWCMNS','提现金额最低必须为','salesOrderEntity','push','changeUserBaseSalesInfo','修改成功','inviterAvatar','Like','function','salesOrder','log','appForMoney','修改失败','提现金额不足','assign','withdrawalChannels','role','@nestjs/common','getMineRecords','auditUserName','该工单已审核过','./salesRecords.entity','../globalConfig/globalConfig.service','updateUserSales','userId','6004747FLWHaA','审核状态错误','toNumber','error:\x20','../user/user.entity','17418ldwccU','withdrawalAmount','inviterUserId','./salesUsers.entity','findOne','update','includes','__decorate','__esModule','email','salesUsersEntity','inviteeUserId','user','审核完成'];_0x36a4=function(){return _0x3ac306;};return _0x36a4();}const globalConfig_service_1=require(_0x40a923(0x1a2)),common_1=require(_0x40a923(0x19d)),salesUsers_entity_1=require(_0x40a923(0x1ad)),typeorm_1=require(_0x40a923(0x1e6)),typeorm_2=require(_0x40a923(0x1f5)),salesRecords_entity_1=require(_0x40a923(0x1a1)),utils_1=require('../../common/utils'),user_entity_1=require(_0x40a923(0x1a9)),decimal_js_1=require(_0x40a923(0x1cb)),salesOrder_entity_1=require('./salesOrder.entity');function _0xf813(_0x3b71f0,_0x46b1d2){const _0x36a4ef=_0x36a4();return _0xf813=function(_0xf81353,_0x75bcb){_0xf81353=_0xf81353-0x195;let _0x347b88=_0x36a4ef[_0xf81353];return _0x347b88;},_0xf813(_0x3b71f0,_0x46b1d2);}let SalesService=class SalesService{constructor(_0x18e2fe,_0x5c5115,_0x39307d,_0x3ce2ac,_0x3047ce){const _0x4b8e80=_0x40a923;this[_0x4b8e80(0x1b4)]=_0x18e2fe,this[_0x4b8e80(0x1e9)]=_0x5c5115,this[_0x4b8e80(0x1ed)]=_0x39307d,this['salesOrderEntity']=_0x3ce2ac,this[_0x4b8e80(0x1f6)]=_0x3047ce;}async[_0x40a923(0x1dc)](_0x5ea999){const _0x2d00c1=_0x40a923;try{const {id:_0x268fc6}=_0x5ea999[_0x2d00c1(0x1b6)];let _0x2e490c=await this[_0x2d00c1(0x1b4)][_0x2d00c1(0x1ae)]({'where':{'userId':_0x268fc6}});if(!_0x2e490c){const {salesBaseRatio:salesBaseRatio=0xa,salesBaseTitle:salesBaseTitle='新秀分销商'}=await this[_0x2d00c1(0x1f6)]['getConfigs']([_0x2d00c1(0x1f3),'salesBaseTitle']);_0x2e490c=await this['creaetUserBaseSalesInfo']({'userId':_0x268fc6,'performanceRatio':Number(salesBaseRatio),'salesOutletName':salesBaseTitle});}const _0xd5a64c=(0x0,utils_1['formatCreateOrUpdateDate'])(_0x2e490c),_0x4781f0=await this[_0x2d00c1(0x1e9)][_0x2d00c1(0x1bc)]({'where':{'inviterUserId':_0x268fc6}}),_0x2837fc=await this['userEntity'][_0x2d00c1(0x1ae)]({'where':{'id':_0x268fc6}})||{'inviteLinkCount':0x0,'inviteCode':_0x2d00c1(0x1f1)},{inviteLinkCount:_0x52bc18,inviteCode:_0x50368c}=_0x2837fc,_0x175478=await this['userEntity']['count']({'where':{'invitedBy':_0x50368c}});return Object[_0x2d00c1(0x19a)](Object[_0x2d00c1(0x19a)]({},_0xd5a64c),{'orderCount':_0x4781f0,'inviteCount':_0x175478,'inviteLinkCount':_0x52bc18});}catch(_0x5d7d95){console['log'](_0x2d00c1(0x1a8),_0x5d7d95);}}async[_0x40a923(0x19e)](_0x1fd34f,_0x1ef4bc){const _0x23596f=_0x40a923;try{const {id:_0x2a5566}=_0x1fd34f[_0x23596f(0x1b6)],{page:_0x33e161,size:_0x51f1d5}=_0x1ef4bc,[_0xcd715f,_0x378168]=await this['salesRecordsEntity']['findAndCount']({'where':{'inviterUserId':_0x2a5566},'order':{'createdAt':_0x23596f(0x1f8)},'skip':(_0x33e161-0x1)*_0x51f1d5,'take':_0x51f1d5});return{'rows':(0x0,utils_1[_0x23596f(0x1d4)])(_0xcd715f),'count':_0x378168};}catch(_0x28bf51){console[_0x23596f(0x196)](_0x23596f(0x1a8),_0x28bf51);}}async[_0x40a923(0x1d6)](_0x138c8c,_0x272d5d){const _0x564afe=_0x40a923;try{const {page:_0x3c792f,size:_0x54e4c6,orderId:_0x2c7f96,orderPrice:_0x44fa0b}=_0x272d5d;let _0x586815={};_0x2c7f96&&(_0x586815={'orderId':_0x2c7f96}),_0x44fa0b&&(_0x586815={'orderPrice':_0x44fa0b});const [_0x42fe99,_0x1df688]=await this['salesRecordsEntity'][_0x564afe(0x1e3)]({'where':_0x586815,'order':{'createdAt':_0x564afe(0x1f8)},'skip':(_0x3c792f-0x1)*_0x54e4c6,'take':_0x54e4c6}),_0x238cbe=[];_0x42fe99[_0x564afe(0x1cd)](_0xfa9560=>{const _0x1fc547=_0x564afe;_0x238cbe[_0x1fc547(0x1fc)](_0xfa9560[_0x1fc547(0x1ac)]),_0x238cbe[_0x1fc547(0x1fc)](_0xfa9560[_0x1fc547(0x1b5)]);});const _0x50b70d=await this[_0x564afe(0x1ed)][_0x564afe(0x1d3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x238cbe)}});return _0x42fe99['forEach'](_0x32509b=>{const _0x1559c9=_0x564afe,_0x10cf81=_0x50b70d[_0x1559c9(0x1d3)](_0x25547c=>_0x25547c['id']===_0x32509b['inviterUserId']),_0x47a5ce=_0x50b70d[_0x1559c9(0x1d3)](_0x39d78e=>_0x39d78e['id']===_0x32509b[_0x1559c9(0x1b5)]),{username:_0x119c6e,email:_0x42f810,avatar:_0x3a8674}=_0x50b70d[_0x1559c9(0x1d3)](_0x3b5010=>_0x3b5010['id']===_0x32509b['inviterUserId']);_0x32509b[_0x1559c9(0x1bf)]=_0x10cf81===null||_0x10cf81===void 0x0?void 0x0:_0x10cf81[_0x1559c9(0x1e7)],_0x32509b['inviterEmail']=_0x10cf81===null||_0x10cf81===void 0x0?void 0x0:_0x10cf81[_0x1559c9(0x1b3)],_0x32509b[_0x1559c9(0x1ff)]=_0x10cf81===null||_0x10cf81===void 0x0?void 0x0:_0x10cf81[_0x1559c9(0x1c7)],_0x32509b[_0x1559c9(0x1dd)]=_0x47a5ce===null||_0x47a5ce===void 0x0?void 0x0:_0x47a5ce[_0x1559c9(0x1e7)],_0x32509b[_0x1559c9(0x1e8)]=_0x47a5ce===null||_0x47a5ce===void 0x0?void 0x0:_0x47a5ce[_0x1559c9(0x1b3)],_0x32509b['inviteeAvatar']=_0x47a5ce===null||_0x47a5ce===void 0x0?void 0x0:_0x47a5ce['avatar'];}),_0x138c8c[_0x564afe(0x1b6)][_0x564afe(0x19c)]!==_0x564afe(0x1c8)&&_0x42fe99[_0x564afe(0x1d8)](_0x55030e=>{const _0x3efd1d=_0x564afe;_0x55030e[_0x3efd1d(0x1ea)]=_0x55030e[_0x3efd1d(0x1ea)]?(0x0,utils_1[_0x3efd1d(0x1ca)])(_0x55030e['inviterEmail']):'',_0x55030e[_0x3efd1d(0x1e8)]=_0x55030e['inviteeEmail']?(0x0,utils_1[_0x3efd1d(0x1ca)])(_0x55030e[_0x3efd1d(0x1e8)]):'';}),{'rows':(0x0,utils_1['formatCreateOrUpdateDate'])(_0x42fe99),'count':_0x1df688};}catch(_0x13c3f5){console['log']('error:\x20',_0x13c3f5);}}async[_0x40a923(0x1c6)](_0x315107){const _0x6a3fd1=_0x40a923,{userId:_0x398e16,performanceRatio:_0x275e59,salesOutletName:_0x4f35f3}=_0x315107;return await this[_0x6a3fd1(0x1b4)][_0x6a3fd1(0x1f0)]({'userId':_0x398e16,'performanceRatio':_0x275e59,'salesOutletName':_0x4f35f3});}async[_0x40a923(0x1fd)](_0x39088f){return await this['salesUsersEntity']['save'](_0x39088f);}async[_0x40a923(0x1db)](_0x556469){const _0xc2c79d=_0x40a923;return await this[_0xc2c79d(0x1e9)]['save'](_0x556469);}async[_0x40a923(0x1c1)](_0x315627,_0x50cda0){const _0x193c38=_0x40a923,_0x45672f=await this['salesUsersEntity']['findOne']({'where':{'userId':_0x315627}});if(!_0x45672f)return;const {totalAmount:_0x56d2ef,distributionBalance:_0x4eb911}=_0x45672f;return console[_0x193c38(0x196)](_0x193c38(0x1ce),_0x56d2ef,_0x4eb911),await this['salesUsersEntity'][_0x193c38(0x1af)]({'userId':_0x315627},{'totalAmount':new decimal_js_1['default'](_0x56d2ef)['plus'](_0x50cda0)[_0x193c38(0x1a7)](),'distributionBalance':new decimal_js_1['default'](_0x4eb911)[_0x193c38(0x1cf)](_0x50cda0)[_0x193c38(0x1a7)]()});}async[_0x40a923(0x197)](_0x3e5809,_0x544120){const _0x2722f1=_0x40a923,{id:_0xee763c}=_0x3e5809[_0x2722f1(0x1b6)],{withdrawalAmount:_0x157549,withdrawalChannels:_0x4980b4,contactInformation:_0x1869ea,remark:_0x1b44ba}=_0x544120,_0x196b62=await this['globalConfigService']['getConfigs']([_0x2722f1(0x1d5)])||0xa;if(typeof _0x157549!=='number'||_0x157549<=0x0)throw new common_1[(_0x2722f1(0x1e5))]('提现金额必须为数字且大于0',common_1[_0x2722f1(0x1d0)][_0x2722f1(0x1ef)]);if(Number(_0x157549)<Number(_0x196b62))throw new common_1[(_0x2722f1(0x1e5))](_0x2722f1(0x1fa)+_0x196b62+'元',common_1[_0x2722f1(0x1d0)][_0x2722f1(0x1ef)]);const _0x307726=await this['salesUsersEntity']['findOne']({'where':{'userId':_0xee763c}}),{distributionBalance:_0x45a2ff,drawMoneyIn:_0x5a06f8}=_0x307726;if(Number(_0x45a2ff)<Number(_0x157549))throw new common_1[(_0x2722f1(0x1e5))](_0x2722f1(0x199),common_1[_0x2722f1(0x1d0)][_0x2722f1(0x1ef)]);const _0x3faeec=new decimal_js_1[(_0x2722f1(0x1df))](_0x45a2ff)['minus'](_0x157549)[_0x2722f1(0x1a7)](),_0x59931f={'userId':_0xee763c,'withdrawalAmount':_0x157549,'orderStatus':0x0,'auditStatus':0x0,'withdrawalChannels':_0x4980b4,'contactInformation':_0x1869ea,'remark':_0x1b44ba};await this[_0x2722f1(0x1da)](_0x59931f);const _0x39ad14=await this['salesUsersEntity'][_0x2722f1(0x1af)]({'userId':_0xee763c},{'distributionBalance':_0x3faeec,'drawMoneyIn':new decimal_js_1['default'](_0x5a06f8)['plus'](_0x157549)[_0x2722f1(0x1a7)]()});}async[_0x40a923(0x1b9)](_0x5d06f7,_0x408739){const _0x505ad9=_0x40a923,{id:_0x7c6c82}=_0x5d06f7[_0x505ad9(0x1b6)],{page:_0x18f14f,size:_0x21fa15}=_0x408739,[_0x486925,_0x56c5a4]=await this[_0x505ad9(0x1fb)][_0x505ad9(0x1e3)]({'where':{'userId':_0x7c6c82},'order':{'createdAt':'DESC'},'skip':(_0x18f14f-0x1)*_0x21fa15,'take':_0x21fa15}),_0x32bcba=_0x486925[_0x505ad9(0x1cd)](_0x1fd899=>_0x1fd899['auditUserId']),_0x2b166e=await this[_0x505ad9(0x1ed)][_0x505ad9(0x1d3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x32bcba)}});return _0x486925['forEach'](_0x132779=>{const _0x3c0460=_0x505ad9,_0x3bb709=_0x2b166e[_0x3c0460(0x1d3)](_0x5985a3=>_0x5985a3['id']===_0x132779[_0x3c0460(0x1bb)]);_0x132779[_0x3c0460(0x19f)]=_0x3bb709?_0x3bb709[_0x3c0460(0x1e7)]:'';}),{'rows':(0x0,utils_1[_0x505ad9(0x1d4)])(_0x486925),'count':_0x56c5a4};}async[_0x40a923(0x195)](_0x1df693,_0x2ee231){const _0x19929b=_0x40a923,{page:_0x45642e,size:_0x10f736}=_0x2ee231,_0x282088={};_0x2ee231[_0x19929b(0x1d2)]!==undefined&&_0x2ee231['orderStatus']!==''&&(_0x282088[_0x19929b(0x1d2)]=_0x2ee231[_0x19929b(0x1d2)]),_0x2ee231[_0x19929b(0x19b)]&&(_0x282088[_0x19929b(0x19b)]=_0x2ee231['withdrawalChannels']);const [_0x2c53ca,_0x904505]=await this['salesOrderEntity'][_0x19929b(0x1e3)]({'where':_0x282088,'order':{'createdAt':_0x19929b(0x1f8)},'skip':(_0x45642e-0x1)*_0x10f736,'take':_0x10f736}),_0x1013c5=_0x2c53ca[_0x19929b(0x1cd)](_0x5ae7da=>_0x5ae7da[_0x19929b(0x1a4)]),_0x3bc9ea=await this[_0x19929b(0x1ed)]['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x1013c5)}});return _0x2c53ca['forEach'](_0xd003dc=>{const _0x107ff5=_0x19929b,_0x59365d=_0x3bc9ea[_0x107ff5(0x1d3)](_0x5e1b12=>_0x5e1b12['id']===_0xd003dc[_0x107ff5(0x1a4)]);if(_0x59365d){const {username:_0x30aa88,email:_0xef07ac,avatar:_0x190790}=_0x59365d;_0xd003dc[_0x107ff5(0x1f4)]={'username':_0x30aa88,'avatar':_0x190790,'email':(0x0,utils_1[_0x107ff5(0x1ca)])(_0xef07ac)};}}),{'rows':(0x0,utils_1[_0x19929b(0x1d4)])(_0x2c53ca),'count':_0x904505};}async['createOrder'](_0x215194){const _0x33a2b8=_0x40a923;try{return await this[_0x33a2b8(0x1fb)][_0x33a2b8(0x1f0)](_0x215194);}catch(_0x4eb050){console[_0x33a2b8(0x196)](_0x33a2b8(0x1a8),_0x4eb050);throw new common_1['HttpException']('创建提现工单失败',common_1[_0x33a2b8(0x1d0)]['BAD_REQUEST']);}}async[_0x40a923(0x1c3)](_0x403943,_0x2e0f12){const _0x2574eb=_0x40a923;try{const {id:_0x438f53}=_0x403943[_0x2574eb(0x1b6)],{id:_0x297786,status:_0x4d2891}=_0x2e0f12;if(![0x1,-0x1][_0x2574eb(0x1b0)](_0x4d2891))throw new common_1[(_0x2574eb(0x1e5))](_0x2574eb(0x1a6),common_1[_0x2574eb(0x1d0)][_0x2574eb(0x1ef)]);const _0x20d3a7=await this['salesOrderEntity'][_0x2574eb(0x1ae)]({'where':{'id':_0x297786}});if(_0x20d3a7[_0x2574eb(0x1d2)]!==0x0)throw new common_1[(_0x2574eb(0x1e5))](_0x2574eb(0x1a0),common_1[_0x2574eb(0x1d0)]['BAD_REQUEST']);const _0x454000=await this[_0x2574eb(0x1b4)][_0x2574eb(0x1ae)]({'where':{'userId':_0x20d3a7[_0x2574eb(0x1a4)]}}),{withdrawalAmount:_0x3cbbd5,drawMoneyIn:_0x56d891}=_0x454000,_0x35b4f8=new decimal_js_1[(_0x2574eb(0x1df))](_0x3cbbd5)[_0x2574eb(0x1cf)](_0x20d3a7[_0x2574eb(0x1ab)])[_0x2574eb(0x1a7)](),_0x4d3660=new decimal_js_1['default'](_0x56d891)['minus'](_0x20d3a7['withdrawalAmount'])[_0x2574eb(0x1a7)]();return await this[_0x2574eb(0x1b4)][_0x2574eb(0x1af)]({'userId':_0x20d3a7[_0x2574eb(0x1a4)]},{'withdrawalAmount':_0x35b4f8,'drawMoneyIn':_0x4d3660}),await this[_0x2574eb(0x1fb)]['update']({'id':_0x297786},{'orderStatus':_0x4d2891,'auditStatus':_0x4d2891,'auditUserId':_0x438f53,'paymentStatus':_0x4d2891}),_0x2574eb(0x1b7);}catch(_0x387ce7){console[_0x2574eb(0x196)]('error:\x20',_0x387ce7);throw new common_1[(_0x2574eb(0x1e5))]('审核失败',common_1[_0x2574eb(0x1d0)]['BAD_REQUEST']);}}async[_0x40a923(0x1be)](_0x12114d,_0x29549a){const _0x2f0837=_0x40a923,{page:_0x5a3640,size:_0x512657,salesOutletName:_0x1b4889,performanceRatio:_0x1bdb5e}=_0x29549a,_0x5bc0e6={};_0x1b4889&&(_0x5bc0e6[_0x2f0837(0x1ec)]=(0x0,typeorm_2[_0x2f0837(0x200)])('%'+_0x1b4889+'%')),_0x1bdb5e&&(_0x5bc0e6['performanceRatio']=_0x1bdb5e);const [_0x57fd7e,_0x2a3f78]=await this[_0x2f0837(0x1b4)][_0x2f0837(0x1e3)]({'where':_0x5bc0e6,'order':{'id':_0x2f0837(0x1f8)},'skip':(_0x5a3640-0x1)*_0x512657,'take':_0x512657}),_0x5c0670=_0x57fd7e[_0x2f0837(0x1cd)](_0x2bd53a=>_0x2bd53a[_0x2f0837(0x1a4)]),_0x2160cf=await this[_0x2f0837(0x1ed)][_0x2f0837(0x1d3)]({'where':{'id':(0x0,typeorm_2['In'])(_0x5c0670)}});return _0x57fd7e[_0x2f0837(0x1d8)](_0x3401c9=>{const _0x5b6878=_0x2f0837,_0x23ba99=_0x2160cf['find'](_0x29ade0=>_0x29ade0['id']===_0x3401c9['userId']);_0x3401c9[_0x5b6878(0x1f4)]=_0x23ba99?_0x23ba99:{};}),_0x12114d[_0x2f0837(0x1b6)][_0x2f0837(0x19c)]!=='super'&&_0x57fd7e[_0x2f0837(0x1d8)](_0x58b8e1=>{const _0x19e9da=_0x2f0837;var _0x4e1a18,_0x8d2a1d;_0x58b8e1[_0x19e9da(0x1f4)][_0x19e9da(0x1b3)]=((_0x4e1a18=_0x58b8e1[_0x19e9da(0x1f4)])===null||_0x4e1a18===void 0x0?void 0x0:_0x4e1a18[_0x19e9da(0x1b3)])?(0x0,utils_1[_0x19e9da(0x1ca)])((_0x8d2a1d=_0x58b8e1[_0x19e9da(0x1f4)])===null||_0x8d2a1d===void 0x0?void 0x0:_0x8d2a1d[_0x19e9da(0x1b3)]):'';}),{'rows':_0x57fd7e,'count':_0x2a3f78};}async[_0x40a923(0x1a3)](_0x1ac922,_0x5c4df4){const _0x5eea8e=_0x40a923,{performanceRatio:_0x38ee8d,salesOutletName:_0x1aef30,userId:_0x43c10a}=_0x5c4df4,_0x361c6b=await this[_0x5eea8e(0x1b4)][_0x5eea8e(0x1ae)]({'where':{'userId':_0x43c10a}});if(!_0x361c6b)throw new common_1['HttpException'](_0x5eea8e(0x1c4),common_1[_0x5eea8e(0x1d0)][_0x5eea8e(0x1ef)]);const _0x464abf=await this[_0x5eea8e(0x1b4)]['update']({'userId':_0x43c10a},{'performanceRatio':_0x38ee8d,'salesOutletName':_0x1aef30});if(_0x464abf['affected']>0x0)return _0x5eea8e(0x1fe);else throw new common_1[(_0x5eea8e(0x1e5))](_0x5eea8e(0x198),common_1['HttpStatus'][_0x5eea8e(0x1ef)]);}};SalesService=__decorate([(0x0,common_1[_0x40a923(0x1cc)])(),__param(0x0,(0x0,typeorm_1[_0x40a923(0x1ee)])(salesUsers_entity_1['SalesUsersEntity'])),__param(0x1,(0x0,typeorm_1[_0x40a923(0x1ee)])(salesRecords_entity_1[_0x40a923(0x1c5)])),__param(0x2,(0x0,typeorm_1[_0x40a923(0x1ee)])(user_entity_1[_0x40a923(0x1e0)])),__param(0x3,(0x0,typeorm_1[_0x40a923(0x1ee)])(salesOrder_entity_1['SalesOrderEntity'])),__metadata('design:paramtypes',[typeorm_2[_0x40a923(0x1c0)],typeorm_2[_0x40a923(0x1c0)],typeorm_2[_0x40a923(0x1c0)],typeorm_2['Repository'],globalConfig_service_1['GlobalConfigService']])],SalesService),exports[_0x40a923(0x1f7)]=SalesService;