'use strict';const _0x1ff2b2=_0x1ec0;function _0x5c86(){const _0x1e3222=['账户激活','571802YvbORI','Res','用户注册','length','loginByPhone','4193100rhNXQa','Get','Req','VerifyCodeDto','./dto/sendPhoneCode.dto','376iyKbqQ','decorate','AuthController','ApiOperation','design:paramtypes','UpdatePasswordDto','registerByPhone','./dto/authLogin.dto','design:type','design:returntype','SendPhoneCodeDto','Render','UseGuards','function','__decorate','./dto/updatePassword.dto','UpdatePassByOtherDto','login','./dto/userRegisterByPhone.dto','defineProperty','registerSuccess','5fvXZPD','499640LxrZLZ','getInfo','./dto/updatePassByOther.dto','auth','注册失败页面','__metadata','2792412lWIneP','Body','ApiBearerAuth','__esModule','sendPhoneCode','./auth.service','updatePassByOther','metadata','../../common/auth/jwtAuth.guard','../verification/dto/verifyCode.dto','JwtAuthGuard','prototype','getOwnPropertyDescriptor','Controller','registerError','用户手机号登录','UserRegisterByPhoneDto','register','发送手机验证码','object','LoginByPhoneDto','@nestjs/common','ApiTags','@nestjs/swagger','用户登录','Post','activateAccount','582537tLegmM','2815444QucpLd','captcha','99708KpfvAW','2vYSfay','authService','AuthService','updatePassword','Query','./dto/authRegister.dto'];_0x5c86=function(){return _0x1e3222;};return _0x5c86();}(function(_0xef141b,_0x593e73){const _0x3750b1=_0x1ec0,_0x574c63=_0xef141b();while(!![]){try{const _0x5ce182=parseInt(_0x3750b1(0x176))/0x1*(parseInt(_0x3750b1(0x16f))/0x2)+-parseInt(_0x3750b1(0x16b))/0x3+parseInt(_0x3750b1(0x16c))/0x4+-parseInt(_0x3750b1(0x149))/0x5*(parseInt(_0x3750b1(0x150))/0x6)+parseInt(_0x3750b1(0x16e))/0x7*(-parseInt(_0x3750b1(0x134))/0x8)+parseInt(_0x3750b1(0x12f))/0x9+-parseInt(_0x3750b1(0x14a))/0xa;if(_0x5ce182===_0x593e73)break;else _0x574c63['push'](_0x574c63['shift']());}catch(_0x29abe5){_0x574c63['push'](_0x574c63['shift']());}}}(_0x5c86,0x58836));var __decorate=this&&this[_0x1ff2b2(0x142)]||function(_0x1d3de8,_0xa0e8d5,_0x170c8e,_0x4fc1e8){const _0x148b32=_0x1ff2b2;var _0x533e37=arguments[_0x148b32(0x12d)],_0xb97c53=_0x533e37<0x3?_0xa0e8d5:_0x4fc1e8===null?_0x4fc1e8=Object[_0x148b32(0x15c)](_0xa0e8d5,_0x170c8e):_0x4fc1e8,_0x8bcbc;if(typeof Reflect===_0x148b32(0x163)&&typeof Reflect[_0x148b32(0x135)]===_0x148b32(0x141))_0xb97c53=Reflect['decorate'](_0x1d3de8,_0xa0e8d5,_0x170c8e,_0x4fc1e8);else{for(var _0x55c3d1=_0x1d3de8[_0x148b32(0x12d)]-0x1;_0x55c3d1>=0x0;_0x55c3d1--)if(_0x8bcbc=_0x1d3de8[_0x55c3d1])_0xb97c53=(_0x533e37<0x3?_0x8bcbc(_0xb97c53):_0x533e37>0x3?_0x8bcbc(_0xa0e8d5,_0x170c8e,_0xb97c53):_0x8bcbc(_0xa0e8d5,_0x170c8e))||_0xb97c53;}return _0x533e37>0x3&&_0xb97c53&&Object['defineProperty'](_0xa0e8d5,_0x170c8e,_0xb97c53),_0xb97c53;},__metadata=this&&this[_0x1ff2b2(0x14f)]||function(_0x1f209e,_0x45e47e){const _0x40b24a=_0x1ff2b2;if(typeof Reflect===_0x40b24a(0x163)&&typeof Reflect[_0x40b24a(0x157)]===_0x40b24a(0x141))return Reflect[_0x40b24a(0x157)](_0x1f209e,_0x45e47e);},__param=this&&this['__param']||function(_0xa6fa4a,_0x19b811){return function(_0x340902,_0x49fae3){_0x19b811(_0x340902,_0x49fae3,_0xa6fa4a);};};Object[_0x1ff2b2(0x147)](exports,_0x1ff2b2(0x153),{'value':!![]}),exports[_0x1ff2b2(0x136)]=void 0x0;function _0x1ec0(_0x53d060,_0x252cb4){const _0x5c868b=_0x5c86();return _0x1ec0=function(_0x1ec0da,_0x341efb){_0x1ec0da=_0x1ec0da-0x12d;let _0x18deac=_0x5c868b[_0x1ec0da];return _0x18deac;},_0x1ec0(_0x53d060,_0x252cb4);}const verifyCode_dto_1=require(_0x1ff2b2(0x159)),authLogin_dto_1=require(_0x1ff2b2(0x13b)),common_1=require(_0x1ff2b2(0x165)),jwtAuth_guard_1=require(_0x1ff2b2(0x158)),auth_service_1=require(_0x1ff2b2(0x155)),swagger_1=require(_0x1ff2b2(0x167)),authRegister_dto_1=require(_0x1ff2b2(0x174)),updatePassword_dto_1=require(_0x1ff2b2(0x143)),updatePassByOther_dto_1=require(_0x1ff2b2(0x14c)),sendPhoneCode_dto_1=require(_0x1ff2b2(0x133)),userRegisterByPhone_dto_1=require(_0x1ff2b2(0x146)),loginByPhone_dt_1=require('./dto/loginByPhone.dt');let AuthController=class AuthController{constructor(_0x236927){this['authService']=_0x236927;}async[_0x1ff2b2(0x161)](_0x52ffe5,_0x596d2e){const _0x55e59d=_0x1ff2b2;return await this[_0x55e59d(0x170)]['register'](_0x52ffe5,_0x596d2e);}async[_0x1ff2b2(0x13a)](_0x1e0d4a,_0xe4dcbb){const _0x56a5ab=_0x1ff2b2;return await this['authService'][_0x56a5ab(0x13a)](_0x1e0d4a,_0xe4dcbb);}async[_0x1ff2b2(0x145)](_0x285a4a,_0x8d64f){const _0x2986b5=_0x1ff2b2;return this[_0x2986b5(0x170)][_0x2986b5(0x145)](_0x285a4a,_0x8d64f);}async[_0x1ff2b2(0x12e)](_0x472f19,_0x2ee88e){const _0x78a3b=_0x1ff2b2;return this[_0x78a3b(0x170)][_0x78a3b(0x12e)](_0x472f19,_0x2ee88e);}async[_0x1ff2b2(0x172)](_0x4cb858,_0x8b6175){const _0x1f1fd7=_0x1ff2b2;return this[_0x1f1fd7(0x170)][_0x1f1fd7(0x172)](_0x4cb858,_0x8b6175);}async['updatePassByOther'](_0x506b43,_0x1c6c28){const _0x28d508=_0x1ff2b2;return this[_0x28d508(0x170)][_0x28d508(0x156)](_0x506b43,_0x1c6c28);}async['getInfo'](_0x4d0c6d){const _0x2898a3=_0x1ff2b2;return this[_0x2898a3(0x170)]['getInfo'](_0x4d0c6d);}async[_0x1ff2b2(0x16a)](_0x420018,_0x1fe881){const _0x33b638=_0x1ff2b2;return this[_0x33b638(0x170)][_0x33b638(0x16a)](_0x420018,_0x1fe881);}async[_0x1ff2b2(0x148)](_0x1f23b1){const {username:_0xfb5b18,id:_0x5f2d91,email:_0x2de6fb,teamName:_0x2a0f1e,registerSuccessEmailTitle:_0x3340b9,registerSuccessEmailTeamName:_0x3587fe,registerSuccessEmaileAppend:_0x2db646}=_0x1f23b1;return{'username':_0xfb5b18,'id':_0x5f2d91,'email':_0x2de6fb,'teamName':_0x2a0f1e,'registerSuccessEmailTitle':_0x3340b9,'registerSuccessEmailTeamName':_0x3587fe,'registerSuccessEmaileAppend':_0x2db646};}async['registerError'](_0x50d054){const {message:_0x186593,teamName:_0x597d64,registerFailEmailTitle:_0x58a2ed,registerFailEmailTeamName:_0x855f0e}=_0x50d054;return{'message':_0x186593,'teamName':_0x597d64,'registerFailEmailTitle':_0x58a2ed,'registerFailEmailTeamName':_0x855f0e};}async[_0x1ff2b2(0x16d)](_0x32b823){const _0x11aa31=_0x1ff2b2;return this[_0x11aa31(0x170)][_0x11aa31(0x16d)](_0x32b823);}async[_0x1ff2b2(0x154)](_0x33ff52){const _0x1c113a=_0x1ff2b2;return this[_0x1c113a(0x170)]['sendPhoneCode'](_0x33ff52);}};__decorate([(0x0,common_1['Post'])(_0x1ff2b2(0x161)),(0x0,swagger_1['ApiOperation'])({'summary':_0x1ff2b2(0x178)}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[authRegister_dto_1['UserRegisterDto'],Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x161),null),__decorate([(0x0,common_1[_0x1ff2b2(0x169)])(_0x1ff2b2(0x13a)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':'用户通过手机号注册'}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x131)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[userRegisterByPhone_dto_1[_0x1ff2b2(0x160)],Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x13a),null),__decorate([(0x0,common_1[_0x1ff2b2(0x169)])(_0x1ff2b2(0x145)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':_0x1ff2b2(0x168)}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x131)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[authLogin_dto_1['UserLoginDto'],Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],'login',null),__decorate([(0x0,common_1[_0x1ff2b2(0x169)])(_0x1ff2b2(0x12e)),(0x0,swagger_1['ApiOperation'])({'summary':_0x1ff2b2(0x15f)}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x131)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[loginByPhone_dt_1[_0x1ff2b2(0x164)],Object]),__metadata('design:returntype',Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x12e),null),__decorate([(0x0,common_1[_0x1ff2b2(0x169)])(_0x1ff2b2(0x172)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':'用户更改密码'}),(0x0,common_1[_0x1ff2b2(0x140)])(jwtAuth_guard_1[_0x1ff2b2(0x15a)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x1ff2b2(0x131)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x151)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[Object,updatePassword_dto_1[_0x1ff2b2(0x139)]]),__metadata('design:returntype',Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x172),null),__decorate([(0x0,common_1['Post'])('updatePassByOther'),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':'用户更改密码'}),(0x0,common_1[_0x1ff2b2(0x140)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x1ff2b2(0x152)])(),__param(0x0,(0x0,common_1[_0x1ff2b2(0x131)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x151)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,updatePassByOther_dto_1[_0x1ff2b2(0x144)]]),__metadata('design:returntype',Promise)],AuthController['prototype'],_0x1ff2b2(0x156),null),__decorate([(0x0,common_1['Get'])(_0x1ff2b2(0x14b)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':'获取用户个人信息'}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x1ff2b2(0x15a)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x1ff2b2(0x131)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController['prototype'],_0x1ff2b2(0x14b),null),__decorate([(0x0,common_1[_0x1ff2b2(0x130)])('activateAccount'),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':_0x1ff2b2(0x175)}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x173)])()),__param(0x1,(0x0,common_1[_0x1ff2b2(0x177)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata('design:paramtypes',[verifyCode_dto_1[_0x1ff2b2(0x132)],Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x16a),null),__decorate([(0x0,common_1[_0x1ff2b2(0x130)])(_0x1ff2b2(0x148)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':'注册成功页面'}),(0x0,common_1[_0x1ff2b2(0x13f)])(_0x1ff2b2(0x148)),__param(0x0,(0x0,common_1['Query'])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata(_0x1ff2b2(0x138),[Object]),__metadata('design:returntype',Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x148),null),__decorate([(0x0,common_1[_0x1ff2b2(0x130)])(_0x1ff2b2(0x15e)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':_0x1ff2b2(0x14e)}),(0x0,common_1[_0x1ff2b2(0x13f)])(_0x1ff2b2(0x15e)),__param(0x0,(0x0,common_1[_0x1ff2b2(0x173)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata('design:paramtypes',[Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x15e),null),__decorate([(0x0,common_1['Post'])('captcha'),(0x0,swagger_1['ApiOperation'])({'summary':'获取一个图形验证码'}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata('design:paramtypes',[Object]),__metadata(_0x1ff2b2(0x13d),Promise)],AuthController[_0x1ff2b2(0x15b)],_0x1ff2b2(0x16d),null),__decorate([(0x0,common_1['Post'])(_0x1ff2b2(0x154)),(0x0,swagger_1[_0x1ff2b2(0x137)])({'summary':_0x1ff2b2(0x162)}),__param(0x0,(0x0,common_1[_0x1ff2b2(0x151)])()),__metadata(_0x1ff2b2(0x13c),Function),__metadata('design:paramtypes',[sendPhoneCode_dto_1[_0x1ff2b2(0x13e)]]),__metadata('design:returntype',Promise)],AuthController['prototype'],'sendPhoneCode',null),AuthController=__decorate([(0x0,swagger_1[_0x1ff2b2(0x166)])(_0x1ff2b2(0x14d)),(0x0,common_1[_0x1ff2b2(0x15d)])('auth'),__metadata(_0x1ff2b2(0x138),[auth_service_1[_0x1ff2b2(0x171)]])],AuthController),exports['AuthController']=AuthController;